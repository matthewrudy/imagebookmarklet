var ImageBookmarklet={init:function(a){function d(d){var e=d.attr("src");e===a&&(e=d.css("background-image").slice(4,-1));var f=d.width(),g=d.height(),h=e.indexOf("data:");if(f>150&&g>200&&h===-1){var i;f>g?i=(200-200*(g/f))*.5:i=0;var j=b("<li></li>").append(b("<a></a>").attr("href",e).append(b("<img />").attr("src",e).css("margin-top",i+"px"),b("<span></span>").text(f+" x "+g)));b("#list-of-images").append(j),c++}}var b=jQuery;b("html, body").animate({scrollTop:0},"fast");if(b("#image-grabber-container").length==0){var c=0;b('<style type="text/css">@import url("http://dl.dropbox.com/u/5045906/imagesbookmarklet/style.css");</style>').appendTo("head"),b("body").append('<div id="background-blocker"></div><div id="image-grabber-container"><div id="button-toggle"><span id="close">Close</span><span id="count"></span></div><ul id="list-of-images"></ul></div>'),b("#button-toggle").click(function(){b("#image-grabber-container, #background-blocker").remove()}),b("img").each(function(){d(b(this))}),b("*:visible").each(function(){var a=b(this);a.css("background-image")!=="none"&&d(a)}),b("#count").text(c+" images found.")}},loadJquery:function(a){var b=function(a,b){var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",a);var d=!1;c.onload=c.onreadystatechange=function(){!d&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")&&(d=!0,b(),c.onload=c.onreadystatechange=null)},document.body.appendChild(c)},c="https:"==document.location.protocol?"https:":"http:",d=c+"//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js";b(d,a)},initWithJquery:function(){this.loadJquery(function(){jQuery.noConflict(),ImageBookmarklet.init()})}};window.jQuery?ImageBookmarklet.init():ImageBookmarklet.initWithJquery()